name: ðŸ§ª Testar Todos ExercÃ­cios
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: ðŸ§ª Testar ExercÃ­cios com Input
      run: |
        echo "=== TESTANDO EXERCÃCIOS ==="
        # Cria arquivo de input fake pro IMC
        echo -e "75\n1.75" > input.txt
        
        for dir in **/*/; do
          echo ""
          echo "ðŸ” Procurando em: $dir"
          
          cd "$dir" || continue
          
          # Se tem qualquer .cpp, compila
          if ls *.cpp >/dev/null 2>&1; then
            echo "ðŸ“¦ Compilando $dir..."
            if g++ -std=c++20 *.cpp -o main 2>/dev/null; then
              echo "âœ… Compilou! Rodando..."
              if [ -f "input.txt" ]; then
                ./main < input.txt
              else
                ./main
              fi && echo "ðŸŽ‰ $dir PASSOU!" || echo "âŒ $dir FALHOU"
            else
              echo "âŒ $dir NÃƒO COMPILOU"
            fi
          else
            echo "âš ï¸  $dir sem .cpp"
          fi
          cd - >/dev/null
        done
        rm -f input.txt

